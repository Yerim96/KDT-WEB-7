<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
          function call(name){
            return new Promise(function(resolve,reject){
                setTimeout(function(){
                   console.log(name);
                    resolve(name);
                },1000);

            })
          }

          function back(){//back함수에서는 resolve가 반환된다.
            return new Promise(function(resolve,reject){
                setTimeout(function(){
                    console.log('back');
                    resolve('back');
                }, 1000);

            })
          }

          function hell(message){
            return new Promise(function(resolve, reject){

                setTimeout(function(){
                    // console.log('callback hell')
                resolve('여기는 callback hell');
                },1000);

            })
          }
          
          //call kim이 성공한 후 then이온다.
          call('kim').then(function(name){
                console.log(`${name}` +'반가워')
                //return 키워드를 사용하면 결과값이 프로미스 객체로 반환
            return back();
        }).then(function(str){//back이 들어감
                console.log(`${str}을 실행했구나`)
                return hell();
        }) .then(function(str){//resolve값을 가져온다.
                console.log(str)
        })




    </script>
</body>
</html>